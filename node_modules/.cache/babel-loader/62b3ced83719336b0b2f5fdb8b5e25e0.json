{"ast":null,"code":"'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if ('value' in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    'default': obj\n  };\n}\n\nfunction _objectWithoutProperties(obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError('Cannot call a class as a function');\n  }\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== 'function' && superClass !== null) {\n    throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _reactS3UploaderS3upload = require('react-s3-uploader/s3upload');\n\nvar _reactS3UploaderS3upload2 = _interopRequireDefault(_reactS3UploaderS3upload);\n\nvar _reactDropzone = require('react-dropzone');\n\nvar _reactDropzone2 = _interopRequireDefault(_reactDropzone);\n\nvar DropzoneS3Uploader = function (_React$Component) {\n  _inherits(DropzoneS3Uploader, _React$Component);\n\n  _createClass(DropzoneS3Uploader, null, [{\n    key: 'propTypes',\n    value: {\n      filename: _propTypes2['default'].string,\n      s3Url: _propTypes2['default'].string.isRequired,\n      notDropzoneProps: _propTypes2['default'].array.isRequired,\n      isImage: _propTypes2['default'].func.isRequired,\n      passChildrenProps: _propTypes2['default'].bool,\n      imageComponent: _propTypes2['default'].func,\n      fileComponent: _propTypes2['default'].func,\n      progressComponent: _propTypes2['default'].func,\n      errorComponent: _propTypes2['default'].func,\n      children: _propTypes2['default'].oneOfType([_propTypes2['default'].node, _propTypes2['default'].func]),\n      onDrop: _propTypes2['default'].func,\n      onError: _propTypes2['default'].func,\n      onProgress: _propTypes2['default'].func,\n      onFinish: _propTypes2['default'].func,\n      // Passed to react-s3-uploader\n      upload: _propTypes2['default'].object.isRequired,\n      // Default styles for react-dropzone\n      className: _propTypes2['default'].oneOfType([_propTypes2['default'].string, _propTypes2['default'].object]),\n      style: _propTypes2['default'].object,\n      activeStyle: _propTypes2['default'].object,\n      rejectStyle: _propTypes2['default'].object\n    },\n    enumerable: true\n  }, {\n    key: 'defaultProps',\n    value: {\n      upload: {},\n      className: 'react-dropzone-s3-uploader',\n      passChildrenProps: true,\n      isImage: function isImage(filename) {\n        return filename && filename.match(/\\.(jpeg|jpg|gif|png|svg)/i);\n      },\n      notDropzoneProps: ['onFinish', 's3Url', 'filename', 'host', 'upload', 'isImage', 'notDropzoneProps'],\n      style: {\n        width: 200,\n        height: 200,\n        border: 'dashed 2px #999',\n        borderRadius: 5,\n        position: 'relative',\n        cursor: 'pointer',\n        overflow: 'hidden'\n      },\n      activeStyle: {\n        borderStyle: 'solid',\n        backgroundColor: '#eee'\n      },\n      rejectStyle: {\n        borderStyle: 'solid',\n        backgroundColor: '#ffdddd'\n      }\n    },\n    enumerable: true\n  }]);\n\n  function DropzoneS3Uploader(props) {\n    var _this = this;\n\n    _classCallCheck(this, DropzoneS3Uploader);\n\n    _React$Component.call(this);\n\n    this.componentWillMount = function () {\n      return _this.setUploaderOptions(_this.props);\n    };\n\n    this.componentWillReceiveProps = function (props) {\n      return _this.setUploaderOptions(props);\n    };\n\n    this.setUploaderOptions = function (props) {\n      _this.setState({\n        uploaderOptions: Object.assign({\n          signingUrl: '/s3/sign',\n          s3path: '',\n          contentDisposition: 'auto',\n          uploadRequestHeaders: {\n            'x-amz-acl': 'public-read'\n          },\n          onFinishS3Put: _this.handleFinish,\n          onProgress: _this.handleProgress,\n          onError: _this.handleError\n        }, props.upload)\n      });\n    };\n\n    this.handleProgress = function (progress, textState, file) {\n      _this.props.onProgress && _this.props.onProgress(progress, textState, file);\n\n      _this.setState({\n        progress: progress\n      });\n    };\n\n    this.handleError = function (err, file) {\n      _this.props.onError && _this.props.onError(err, file);\n\n      _this.setState({\n        error: err,\n        progress: null\n      });\n    };\n\n    this.handleFinish = function (info, file) {\n      var uploadedFile = Object.assign({\n        file: file,\n        fileUrl: _this.fileUrl(_this.props.s3Url, info.filename)\n      }, info);\n      var uploadedFiles = _this.state.uploadedFiles;\n      uploadedFiles.push(uploadedFile);\n\n      _this.setState({\n        uploadedFiles: uploadedFiles,\n        error: null,\n        progress: null\n      }, function () {\n        _this.props.onFinish && _this.props.onFinish(uploadedFile);\n      });\n    };\n\n    this.handleDrop = function (files, rejectedFiles) {\n      _this.setState({\n        uploadedFiles: [],\n        error: null,\n        progress: null\n      });\n\n      var options = _extends({\n        files: files\n      }, _this.state.uploaderOptions);\n\n      new _reactS3UploaderS3upload2['default'](options); // eslint-disable-line\n\n      _this.props.onDrop && _this.props.onDrop(files, rejectedFiles);\n    };\n\n    this.fileUrl = function (s3Url, filename) {\n      return (s3Url.endsWith('/') ? s3Url.slice(0, -1) : s3Url) + '/' + filename;\n    };\n\n    this.renderImage = function (_ref) {\n      var uploadedFile = _ref.uploadedFile;\n      return _react2['default'].createElement('div', {\n        className: 'rdsu-image'\n      }, _react2['default'].createElement('img', {\n        src: uploadedFile.fileUrl\n      }));\n    };\n\n    this.renderFile = function (_ref2) {\n      var uploadedFile = _ref2.uploadedFile;\n      return _react2['default'].createElement('div', {\n        className: 'rdsu-file'\n      }, _react2['default'].createElement('div', {\n        className: 'rdsu-file-icon'\n      }, _react2['default'].createElement('span', {\n        className: 'fa fa-file-o',\n        style: {\n          fontSize: '50px'\n        }\n      })), _react2['default'].createElement('div', {\n        className: 'rdsu-filename'\n      }, uploadedFile.file.name));\n    };\n\n    this.renderProgress = function (_ref3) {\n      var progress = _ref3.progress;\n      return progress ? _react2['default'].createElement('div', {\n        className: 'rdsu-progress'\n      }, progress) : null;\n    };\n\n    this.renderError = function (_ref4) {\n      var error = _ref4.error;\n      return error ? _react2['default'].createElement('div', {\n        className: 'rdsu-error small'\n      }, error) : null;\n    };\n\n    var uploadedFiles = [];\n    var filename = props.filename;\n\n    if (filename) {\n      uploadedFiles.push({\n        filename: filename,\n        fileUrl: this.fileUrl(props.s3Url, filename),\n        'default': true,\n        file: {}\n      });\n    }\n\n    this.state = {\n      uploadedFiles: uploadedFiles\n    };\n  }\n\n  DropzoneS3Uploader.prototype.render = function render() {\n    var _this2 = this;\n\n    var _props = this.props;\n    var s3Url = _props.s3Url;\n    var passChildrenProps = _props.passChildrenProps;\n    var children = _props.children;\n    var imageComponent = _props.imageComponent;\n    var fileComponent = _props.fileComponent;\n    var progressComponent = _props.progressComponent;\n    var errorComponent = _props.errorComponent;\n\n    var dropzoneProps = _objectWithoutProperties(_props, ['s3Url', 'passChildrenProps', 'children', 'imageComponent', 'fileComponent', 'progressComponent', 'errorComponent']);\n\n    var ImageComponent = imageComponent || this.renderImage;\n    var FileComponent = fileComponent || this.renderFile;\n    var ProgressComponent = progressComponent || this.renderProgress;\n    var ErrorComponent = errorComponent || this.renderError;\n    var uploadedFiles = this.state.uploadedFiles;\n\n    var childProps = _extends({\n      s3Url: s3Url\n    }, this.state);\n\n    this.props.notDropzoneProps.forEach(function (prop) {\n      return delete dropzoneProps[prop];\n    });\n    var content = null;\n\n    if (children) {\n      content = passChildrenProps ? _react2['default'].Children.map(children, function (child) {\n        return _react2['default'].cloneElement(child, childProps);\n      }) : this.props.children;\n    } else {\n      content = _react2['default'].createElement('div', null, uploadedFiles.map(function (uploadedFile) {\n        var props = _extends({\n          key: uploadedFile.filename,\n          uploadedFile: uploadedFile\n        }, childProps);\n\n        return _this2.props.isImage(uploadedFile.fileUrl) ? _react2['default'].createElement(ImageComponent, props) : _react2['default'].createElement(FileComponent, props);\n      }), _react2['default'].createElement(ProgressComponent, childProps), _react2['default'].createElement(ErrorComponent, childProps));\n    }\n\n    return _react2['default'].createElement(_reactDropzone2['default'], _extends({\n      ref: function ref(c) {\n        return _this2._dropzone = c;\n      },\n      onDrop: this.handleDrop\n    }, dropzoneProps), content);\n  };\n\n  return DropzoneS3Uploader;\n}(_react2['default'].Component);\n\nexports['default'] = DropzoneS3Uploader;\nmodule.exports = exports['default'];","map":{"version":3,"sources":["/Users/j.lin/prime/tier3/portfolio/node_modules/react-dropzone-s3-uploader/lib/DropzoneS3Uploader.js"],"names":["exports","__esModule","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_createClass","defineProperties","props","descriptor","enumerable","configurable","writable","defineProperty","Constructor","protoProps","staticProps","_interopRequireDefault","obj","_objectWithoutProperties","keys","indexOf","_classCallCheck","instance","TypeError","_inherits","subClass","superClass","create","constructor","value","setPrototypeOf","__proto__","_react","require","_react2","_propTypes","_propTypes2","_reactS3UploaderS3upload","_reactS3UploaderS3upload2","_reactDropzone","_reactDropzone2","DropzoneS3Uploader","_React$Component","filename","string","s3Url","isRequired","notDropzoneProps","array","isImage","func","passChildrenProps","bool","imageComponent","fileComponent","progressComponent","errorComponent","children","oneOfType","node","onDrop","onError","onProgress","onFinish","upload","object","className","style","activeStyle","rejectStyle","match","width","height","border","borderRadius","position","cursor","overflow","borderStyle","backgroundColor","_this","componentWillMount","setUploaderOptions","componentWillReceiveProps","setState","uploaderOptions","signingUrl","s3path","contentDisposition","uploadRequestHeaders","onFinishS3Put","handleFinish","handleProgress","handleError","progress","textState","file","err","error","info","uploadedFile","fileUrl","uploadedFiles","state","push","handleDrop","files","rejectedFiles","options","endsWith","slice","renderImage","_ref","createElement","src","renderFile","_ref2","fontSize","name","renderProgress","_ref3","renderError","_ref4","render","_this2","_props","dropzoneProps","ImageComponent","FileComponent","ProgressComponent","ErrorComponent","childProps","forEach","prop","content","Children","map","child","cloneElement","ref","c","_dropzone","Component","module"],"mappings":"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","sourcesContent":["'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _reactS3UploaderS3upload = require('react-s3-uploader/s3upload');\n\nvar _reactS3UploaderS3upload2 = _interopRequireDefault(_reactS3UploaderS3upload);\n\nvar _reactDropzone = require('react-dropzone');\n\nvar _reactDropzone2 = _interopRequireDefault(_reactDropzone);\n\nvar DropzoneS3Uploader = (function (_React$Component) {\n  _inherits(DropzoneS3Uploader, _React$Component);\n\n  _createClass(DropzoneS3Uploader, null, [{\n    key: 'propTypes',\n    value: {\n      filename: _propTypes2['default'].string,\n      s3Url: _propTypes2['default'].string.isRequired,\n      notDropzoneProps: _propTypes2['default'].array.isRequired,\n      isImage: _propTypes2['default'].func.isRequired,\n      passChildrenProps: _propTypes2['default'].bool,\n\n      imageComponent: _propTypes2['default'].func,\n      fileComponent: _propTypes2['default'].func,\n      progressComponent: _propTypes2['default'].func,\n      errorComponent: _propTypes2['default'].func,\n\n      children: _propTypes2['default'].oneOfType([_propTypes2['default'].node, _propTypes2['default'].func]),\n\n      onDrop: _propTypes2['default'].func,\n      onError: _propTypes2['default'].func,\n      onProgress: _propTypes2['default'].func,\n      onFinish: _propTypes2['default'].func,\n\n      // Passed to react-s3-uploader\n      upload: _propTypes2['default'].object.isRequired,\n\n      // Default styles for react-dropzone\n      className: _propTypes2['default'].oneOfType([_propTypes2['default'].string, _propTypes2['default'].object]),\n      style: _propTypes2['default'].object,\n      activeStyle: _propTypes2['default'].object,\n      rejectStyle: _propTypes2['default'].object\n    },\n    enumerable: true\n  }, {\n    key: 'defaultProps',\n    value: {\n      upload: {},\n      className: 'react-dropzone-s3-uploader',\n      passChildrenProps: true,\n      isImage: function isImage(filename) {\n        return filename && filename.match(/\\.(jpeg|jpg|gif|png|svg)/i);\n      },\n      notDropzoneProps: ['onFinish', 's3Url', 'filename', 'host', 'upload', 'isImage', 'notDropzoneProps'],\n      style: {\n        width: 200,\n        height: 200,\n        border: 'dashed 2px #999',\n        borderRadius: 5,\n        position: 'relative',\n        cursor: 'pointer',\n        overflow: 'hidden'\n      },\n      activeStyle: {\n        borderStyle: 'solid',\n        backgroundColor: '#eee'\n      },\n      rejectStyle: {\n        borderStyle: 'solid',\n        backgroundColor: '#ffdddd'\n      }\n    },\n    enumerable: true\n  }]);\n\n  function DropzoneS3Uploader(props) {\n    var _this = this;\n\n    _classCallCheck(this, DropzoneS3Uploader);\n\n    _React$Component.call(this);\n\n    this.componentWillMount = function () {\n      return _this.setUploaderOptions(_this.props);\n    };\n\n    this.componentWillReceiveProps = function (props) {\n      return _this.setUploaderOptions(props);\n    };\n\n    this.setUploaderOptions = function (props) {\n      _this.setState({\n        uploaderOptions: Object.assign({\n          signingUrl: '/s3/sign',\n          s3path: '',\n          contentDisposition: 'auto',\n          uploadRequestHeaders: { 'x-amz-acl': 'public-read' },\n          onFinishS3Put: _this.handleFinish,\n          onProgress: _this.handleProgress,\n          onError: _this.handleError\n        }, props.upload)\n      });\n    };\n\n    this.handleProgress = function (progress, textState, file) {\n      _this.props.onProgress && _this.props.onProgress(progress, textState, file);\n      _this.setState({ progress: progress });\n    };\n\n    this.handleError = function (err, file) {\n      _this.props.onError && _this.props.onError(err, file);\n      _this.setState({ error: err, progress: null });\n    };\n\n    this.handleFinish = function (info, file) {\n      var uploadedFile = Object.assign({\n        file: file,\n        fileUrl: _this.fileUrl(_this.props.s3Url, info.filename)\n      }, info);\n\n      var uploadedFiles = _this.state.uploadedFiles;\n      uploadedFiles.push(uploadedFile);\n      _this.setState({ uploadedFiles: uploadedFiles, error: null, progress: null }, function () {\n        _this.props.onFinish && _this.props.onFinish(uploadedFile);\n      });\n    };\n\n    this.handleDrop = function (files, rejectedFiles) {\n      _this.setState({ uploadedFiles: [], error: null, progress: null });\n      var options = _extends({\n        files: files\n      }, _this.state.uploaderOptions);\n      new _reactS3UploaderS3upload2['default'](options); // eslint-disable-line\n      _this.props.onDrop && _this.props.onDrop(files, rejectedFiles);\n    };\n\n    this.fileUrl = function (s3Url, filename) {\n      return (s3Url.endsWith('/') ? s3Url.slice(0, -1) : s3Url) + '/' + filename;\n    };\n\n    this.renderImage = function (_ref) {\n      var uploadedFile = _ref.uploadedFile;\n      return _react2['default'].createElement(\n        'div',\n        { className: 'rdsu-image' },\n        _react2['default'].createElement('img', { src: uploadedFile.fileUrl })\n      );\n    };\n\n    this.renderFile = function (_ref2) {\n      var uploadedFile = _ref2.uploadedFile;\n      return _react2['default'].createElement(\n        'div',\n        { className: 'rdsu-file' },\n        _react2['default'].createElement(\n          'div',\n          { className: 'rdsu-file-icon' },\n          _react2['default'].createElement('span', { className: 'fa fa-file-o', style: { fontSize: '50px' } })\n        ),\n        _react2['default'].createElement(\n          'div',\n          { className: 'rdsu-filename' },\n          uploadedFile.file.name\n        )\n      );\n    };\n\n    this.renderProgress = function (_ref3) {\n      var progress = _ref3.progress;\n      return progress ? _react2['default'].createElement(\n        'div',\n        { className: 'rdsu-progress' },\n        progress\n      ) : null;\n    };\n\n    this.renderError = function (_ref4) {\n      var error = _ref4.error;\n      return error ? _react2['default'].createElement(\n        'div',\n        { className: 'rdsu-error small' },\n        error\n      ) : null;\n    };\n\n    var uploadedFiles = [];\n    var filename = props.filename;\n\n    if (filename) {\n      uploadedFiles.push({\n        filename: filename,\n        fileUrl: this.fileUrl(props.s3Url, filename),\n        'default': true,\n        file: {}\n      });\n    }\n    this.state = { uploadedFiles: uploadedFiles };\n  }\n\n  DropzoneS3Uploader.prototype.render = function render() {\n    var _this2 = this;\n\n    var _props = this.props;\n    var s3Url = _props.s3Url;\n    var passChildrenProps = _props.passChildrenProps;\n    var children = _props.children;\n    var imageComponent = _props.imageComponent;\n    var fileComponent = _props.fileComponent;\n    var progressComponent = _props.progressComponent;\n    var errorComponent = _props.errorComponent;\n\n    var dropzoneProps = _objectWithoutProperties(_props, ['s3Url', 'passChildrenProps', 'children', 'imageComponent', 'fileComponent', 'progressComponent', 'errorComponent']);\n\n    var ImageComponent = imageComponent || this.renderImage;\n    var FileComponent = fileComponent || this.renderFile;\n    var ProgressComponent = progressComponent || this.renderProgress;\n    var ErrorComponent = errorComponent || this.renderError;\n\n    var uploadedFiles = this.state.uploadedFiles;\n\n    var childProps = _extends({ s3Url: s3Url }, this.state);\n    this.props.notDropzoneProps.forEach(function (prop) {\n      return delete dropzoneProps[prop];\n    });\n\n    var content = null;\n    if (children) {\n      content = passChildrenProps ? _react2['default'].Children.map(children, function (child) {\n        return _react2['default'].cloneElement(child, childProps);\n      }) : this.props.children;\n    } else {\n      content = _react2['default'].createElement(\n        'div',\n        null,\n        uploadedFiles.map(function (uploadedFile) {\n          var props = _extends({\n            key: uploadedFile.filename,\n            uploadedFile: uploadedFile\n          }, childProps);\n          return _this2.props.isImage(uploadedFile.fileUrl) ? _react2['default'].createElement(ImageComponent, props) : _react2['default'].createElement(FileComponent, props);\n        }),\n        _react2['default'].createElement(ProgressComponent, childProps),\n        _react2['default'].createElement(ErrorComponent, childProps)\n      );\n    }\n\n    return _react2['default'].createElement(\n      _reactDropzone2['default'],\n      _extends({ ref: function (c) {\n          return _this2._dropzone = c;\n        }, onDrop: this.handleDrop }, dropzoneProps),\n      content\n    );\n  };\n\n  return DropzoneS3Uploader;\n})(_react2['default'].Component);\n\nexports['default'] = DropzoneS3Uploader;\nmodule.exports = exports['default'];"]},"metadata":{},"sourceType":"script"}